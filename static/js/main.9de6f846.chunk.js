(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],Array(22).concat([function(e,t,n){},,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(23),s=n.n(r),i=n(4),o=n(2),l=n(3),u=c.a.createContext(),j="https://api.kt3.students.nomoredomains.work",m=function(e){return e.ok?e.json():Promise.reject(e.status)},b=function(e,t){return fetch("".concat(j,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){return m(e)}))},h=n(7),d=n(13),_=n(0),f=function(e){var t=e.component,n=Object(d.a)(e,["component"]);return Object(_.jsx)(l.b,{children:function(){return n.loggedIn?Object(_.jsx)(t,Object(h.a)({},n)):Object(_.jsx)(l.a,{to:"/"})}})},p=(n(38),function(){return Object(_.jsx)(i.b,{to:"/",className:"logo gradual-change"})}),O=(n(39),function(e){return Object(_.jsxs)("header",{className:"Header",children:[Object(_.jsx)(p,{}),e.children]})}),x=(n(40),function(){return Object(_.jsxs)("nav",{className:"nav-tab",children:[Object(_.jsx)(i.b,{to:"/signup",className:"nav-tab__btn nav-tab__btn_register gradual-change",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(_.jsx)(i.b,{to:"/signin",className:"nav-tab__btn nav-tab__btn_login gradual-change",children:"\u0412\u043e\u0439\u0442\u0438"})]})}),g=(n(41),function(e){var t=e.userClass,n=e.buttonType,a=e.children,c=Object(d.a)(e,["userClass","buttonType","children"]);return Object(_.jsx)("button",Object(h.a)(Object(h.a)({className:"button gradual-change ".concat(t||""),type:n||"button"},c),{},{children:a||""}))});n(42);var v=function(e){return Object(_.jsx)("div",{className:"popup",children:Object(_.jsxs)("div",{className:"popup__container",children:[Object(_.jsx)(g,{userClass:"popup__btn_close",onClick:e.handleClose}),Object(_.jsx)(i.c,{exact:!0,to:"/",activeClassName:"popup__link_active",className:"popup__link popup__link_film",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(_.jsx)(i.c,{to:"/movies",activeClassName:"popup__link_active",className:"popup__link popup__link_film",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(_.jsx)(i.c,{to:"/saved-movies",activeClassName:"popup__link_active",className:"popup__link popup__link_film",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),Object(_.jsx)(i.c,{to:"/profile",activeClassName:"popup__link_active",className:"popup__link popup__link_profile",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"})]})})};n(43);var N=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],r=n[1];return Object(_.jsxs)("nav",{className:"menu gradual-change",children:[Object(_.jsx)(i.c,{to:"/movies",activeClassName:"menu__link_active",className:"menu__link menu__link_film ".concat(e.theme?"menu__link_film_blue":""),children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(_.jsx)(i.c,{to:"/saved-movies",activeClassName:"menu__link_active",className:"menu__link menu__link_film ".concat(e.theme?"menu__link_film_blue":""),children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),Object(_.jsx)(i.c,{to:"/profile",activeClassName:"menu__link_active",className:"menu__link menu__link_profile ".concat(e.theme?"menu__link_profile_blue":""),children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(_.jsx)(g,{userClass:"menu__button ".concat(e.theme?"menu__button_blue":""),onClick:function(){r(!0)}}),c&&Object(_.jsx)(v,{handleClose:function(){r(!1)}})]})};n(44);var k=function(){var e=Object(a.useContext)(u);return Object(_.jsxs)("section",{className:"promo promo__block",children:[Object(_.jsx)(O,{children:e.email?Object(_.jsx)(N,{theme:"blue"}):Object(_.jsx)(x,{})}),Object(_.jsxs)("div",{className:"promo__block promo__container",children:[Object(_.jsx)("h1",{className:"promo__block promo__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."}),Object(_.jsx)("div",{className:"promo__block promo__image"})]})]})},w=(n(45),function(e){return Object(_.jsx)("h2",{className:"SectionHeader gradual-change",children:e.children})}),S=(n(46),function(){return Object(_.jsxs)("section",{className:"AboutProject gradual-change",children:[Object(_.jsx)(w,{children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(_.jsxs)("ul",{className:"brief gradual-change",children:[Object(_.jsxs)("li",{className:"brief__column",children:[Object(_.jsx)("h4",{className:"brief__title",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(_.jsx)("p",{className:"brief__text",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]}),Object(_.jsxs)("li",{className:"brief__column",children:[Object(_.jsx)("h4",{className:"brief__title",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"}),Object(_.jsx)("p",{className:"brief__text",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]})]}),Object(_.jsxs)("div",{className:"schedule gradual-change",children:[Object(_.jsx)("p",{className:"schedule__text schedule__chart schedule__chart_green",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"}),Object(_.jsx)("p",{className:"schedule__text schedule__chart schedule__chart_gray",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"}),Object(_.jsx)("p",{className:"schedule__text schedule__item",children:"Back-end"}),Object(_.jsx)("p",{className:"schedule__text schedule__item",children:"Front-end"})]})]})}),y=(n(47),function(e){return Object(_.jsx)("h3",{className:"SectionTitle gradual-change",children:e.children})}),C=(n(48),function(){return Object(_.jsxs)("section",{className:"Techs gradual-change",children:[Object(_.jsx)(w,{children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(_.jsxs)("div",{className:"techs__container gradual-change",children:[Object(_.jsx)(y,{children:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(_.jsx)("p",{className:"techs__subtitle",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."}),Object(_.jsxs)("ul",{className:"techs__list",children:[Object(_.jsx)("li",{className:"techs__item",children:"HTML"}),Object(_.jsx)("li",{className:"techs__item",children:"CSS"}),Object(_.jsx)("li",{className:"techs__item",children:"JS"}),Object(_.jsx)("li",{className:"techs__item",children:"React"}),Object(_.jsx)("li",{className:"techs__item",children:"Git"}),Object(_.jsx)("li",{className:"techs__item",children:"Express.js"}),Object(_.jsx)("li",{className:"techs__item",children:"mongoDB"})]})]})]})}),I=(n(49),function(){return Object(_.jsxs)("section",{className:"Portfolio portfolio__box gradual-change",children:[Object(_.jsx)("h4",{className:"portfolio__box portfolio__title",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(_.jsxs)("ul",{className:"portfolio__box projects__list",children:[Object(_.jsxs)("li",{className:"portfolio__box projects__item",children:[Object(_.jsx)("p",{className:"portfolio__box projects__info",children:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(_.jsx)("a",{className:"projects__link",href:"https://github.com/kateworks/how-to-learn",target:"_blank",rel:"noreferrer noopener",children:"\u2197"})]}),Object(_.jsxs)("li",{className:"portfolio__box projects__item",children:[Object(_.jsx)("p",{className:"portfolio__box projects__info",children:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(_.jsx)("a",{className:"projects__link",href:"https://github.com/kateworks/russian-travel",target:"_blank",rel:"noreferrer noopener",children:"\u2197"})]}),Object(_.jsxs)("li",{className:"portfolio__box projects__item",children:[Object(_.jsx)("p",{className:"portfolio__box projects__info",children:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"}),Object(_.jsx)("a",{className:"projects__link",href:"https://github.com/kateworks/mesto",target:"_blank",rel:"noreferrer noopener",children:"\u2197"})]})]})]})}),E=n.p+"static/media/my-photo.d7fbeb2b.jpg",M=(n(50),function(){return Object(_.jsxs)("section",{className:"AboutMe gradual-change",children:[Object(_.jsx)(w,{children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),Object(_.jsxs)("article",{className:"person gradual-change",children:[Object(_.jsxs)("div",{className:"person__info",children:[Object(_.jsx)(y,{children:"\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0430"}),Object(_.jsx)("p",{className:"person__subtitle",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a"}),Object(_.jsx)("p",{className:"person__text",children:'\u042f \u0440\u043e\u0434\u0438\u043b\u0430\u0441\u044c \u0438 \u0432\u044b\u0440\u043e\u0441\u043b\u0430 \u0432 \u0411\u0430\u0440\u043d\u0430\u0443\u043b\u0435, \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0430 \u0410\u043b\u0442\u0413\u0422\u0423 \u0438\u043c.\u0418.\u0418.\u041f\u043e\u043b\u0437\u0443\u043d\u043e\u0432\u0430 \u043f\u043e \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 "\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u043e\u0435 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u0435 \u0432\u044b\u0447\u0438\u0441\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0442\u0435\u0445\u043d\u0438\u043a\u0438". \u0412 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0436\u0438\u0432\u0443 \u0432 \u041b\u0435\u043d\u0438\u043d\u0433\u0440\u0430\u0434\u0441\u043a\u043e\u0439 \u043e\u0431\u043b\u0430\u0441\u0442\u0438 (\u0434.\u041f\u0435\u043d\u0438\u043a\u0438). \u041f\u0440\u043e\u0448\u043b\u0430 \u043a\u0443\u0440\u0441 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0430 \u043f\u043e \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435. \u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443 front-end \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0435 \u0437\u043d\u0430\u043d\u0438\u044f, \u0440\u0435\u0448\u0430\u044f \u043d\u0435\u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u0438 \u0441\u0435\u0440\u044c\u0435\u0437\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438.'}),Object(_.jsxs)("ul",{className:"person__list",children:[Object(_.jsx)("li",{className:"person__item",children:Object(_.jsx)("a",{className:"person__link",href:"https://www.facebook.com",target:"_blank",rel:"noreferrer noopener",children:"Facebook"})}),Object(_.jsx)("li",{className:"person__item",children:Object(_.jsx)("a",{className:"person__link",href:"https://github.com/kateworks",target:"_blank",rel:"noreferrer noopener",children:"Github"})})]})]}),Object(_.jsx)("img",{className:"person__photo",src:E,alt:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430"})]}),Object(_.jsx)(I,{})]})}),L=(n(51),function(){return Object(_.jsxs)("div",{className:"Landing",children:[Object(_.jsx)(k,{}),Object(_.jsx)(S,{}),Object(_.jsx)(C,{}),Object(_.jsx)(M,{})]})}),T=(n(52),function(){return Object(_.jsxs)("footer",{className:"Footer",children:[Object(_.jsx)("p",{className:"footer__title footer__text",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(_.jsxs)("div",{className:"footer__row",children:[Object(_.jsx)("p",{className:"footer__copyright footer__text",children:"\xa9 2021"}),Object(_.jsx)("nav",{children:Object(_.jsxs)("ul",{className:"footer__row-links",children:[Object(_.jsx)("li",{className:"footer__row-link",children:Object(_.jsx)("a",{className:"footer__link footer__text",href:"https://praktikum.yandex.ru",target:"_blank",rel:"noreferrer noopener",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(_.jsx)("li",{className:"footer__row-link",children:Object(_.jsx)("a",{className:"footer__link footer__text",href:"https://github.com",target:"_blank",rel:"noreferrer noopener",children:"Github"})}),Object(_.jsx)("li",{className:"footer__row-link",children:Object(_.jsx)("a",{className:"footer__link footer__text",href:"https://www.facebook.com",target:"_blank",rel:"noreferrer noopener",children:"Facebook"})})]})})]})]})}),U=function(){return Object(_.jsxs)(c.a.Fragment,{children:[Object(_.jsx)(L,{}),Object(_.jsx)(T,{})]})},D=(n(53),function(e){var t=e.name,n=e.title,a=e.children,c=e.onSubmit;return Object(_.jsxs)("form",{className:"form gradual-change",name:t,onSubmit:c,children:[Object(_.jsx)("h2",{className:"form__title gradual-change",children:n}),a]})}),F=(n(54),function(e){var t=e.type,n=e.isError,a=e.errorText,c=e.errorId,r=e.children,s=Object(d.a)(e,["type","isError","errorText","errorId","children"]);return Object(_.jsxs)("div",{className:"input input__box",children:[Object(_.jsx)("label",{className:"input__label input__box",children:r}),Object(_.jsx)("input",Object(h.a)({type:t,className:"input__item input__box"},s)),Object(_.jsx)("span",{className:"input__error input__box ".concat(n?"input__error_visible":""),id:c,children:a})]})}),R=(n(55),function(e){var t=e.submitDisabled,n=e.children;return Object(_.jsx)(g,{type:"submit",userClass:"submit-btn",disabled:t,children:n})}),A=(n(56),function(e){return Object(_.jsxs)("fieldset",{className:"submit-group",children:[Object(_.jsx)("p",{className:"submit-group__error submit-group__box",children:e.errorMessage||""}),Object(_.jsx)(R,{submitDisabled:e.submitDisabled,children:e.submitName}),Object(_.jsxs)("nav",{className:"submit-group__row submit-group__box",children:[Object(_.jsx)("span",{className:"submit-group__text submit-group__box submit-group__font",children:e.children}),Object(_.jsx)(i.b,{to:e.linkDestination,className:"submit-group__link submit-group__box submit-group__font",children:e.linkName})]})]})}),J=n(15);function P(){var e=Object(a.useState)({}),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)({}),s=Object(o.a)(r,2),i=s[0],l=s[1],u=Object(a.useState)(!1),j=Object(o.a)(u,2),m=j[0],b=j[1],d=Object(a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];c(e),l(t),b(n)}),[c,l,b]);return{values:n,setValues:c,handleChange:function(e){var t=e.target,a=t.name,r=t.value;c(Object(h.a)(Object(h.a)({},n),{},Object(J.a)({},a,r))),l(Object(h.a)(Object(h.a)({},i),{},Object(J.a)({},a,t.validationMessage))),b(t.closest("form").checkValidity())},errors:i,isValid:m,resetForm:d}}n(22);var H=function(e){var t=P(),n=t.values,c=t.handleChange,r=t.errors,s=t.isValid,i=t.resetForm,l=Object(a.useState)(""),u=Object(o.a)(l,2),j=u[0],m=u[1];Object(a.useEffect)((function(){e.resetMessage()}),[n]),Object(a.useEffect)((function(){m(e.errorMessage)}),[e.errorMessage]);var b=function(){i({email:"",password:""})};return Object(_.jsxs)("div",{className:"login",children:[Object(_.jsx)("header",{className:"login__header",children:Object(_.jsx)(p,{})}),Object(_.jsxs)(D,{name:"form-login",title:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!",onSubmit:function(t){t.preventDefault(),e.onLogin(n.email,n.password,b)},children:[Object(_.jsx)(F,{type:"email",id:"email",name:"email",placeholder:"E-mail",required:!0,pattern:"^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$",errorId:"email-error",isError:r.email,errorText:r.email,onChange:c,value:n.email||"",children:"E-mail"}),Object(_.jsx)(F,{type:"password",id:"password",name:"password",maxLength:"20",minLength:"8",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0,errorId:"password-error",isError:r.password,errorText:r.password,onChange:c,value:n.password||"",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(_.jsx)(A,{submitName:"\u0412\u043e\u0439\u0442\u0438",linkName:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",linkDestination:"/signup",submitDisabled:!s,errorMessage:j,children:"\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"})]})]})};var z=function(e){var t=P(),n=t.values,c=t.handleChange,r=t.errors,s=t.isValid,i=t.resetForm,l=Object(a.useState)(""),u=Object(o.a)(l,2),j=u[0],m=u[1];Object(a.useEffect)((function(){e.resetMessage()}),[n]),Object(a.useEffect)((function(){m(e.errorMessage)}),[e.errorMessage]);var b=function(){i({name:"",email:"",password:""})};return Object(_.jsxs)("div",{className:"login",children:[Object(_.jsx)("header",{className:"login__header",children:Object(_.jsx)(p,{})}),Object(_.jsxs)(D,{name:"form-register",title:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!",onSubmit:function(t){t.preventDefault(),e.onRegister(n.email,n.password,n.name,b)},children:[Object(_.jsx)(F,{type:"text",id:"name",name:"name",maxLength:"30",minLength:"2",placeholder:"\u0418\u043c\u044f",required:!0,pattern:"^[A-Za-z]([A-Za-z]| |-){1,28}[A-Za-z]$",errorId:"name-error",isError:r.name,errorText:r.name,onChange:c,value:n.name||"",children:"\u0418\u043c\u044f"}),Object(_.jsx)(F,{type:"email",id:"email",name:"email",placeholder:"E-mail",required:!0,pattern:"^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$",errorId:"email-error",isError:r.email,errorText:r.email,onChange:c,value:n.email||"",children:"E-mail"}),Object(_.jsx)(F,{type:"password",id:"password",name:"password",maxLength:"20",minLength:"8",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0,errorId:"password-error",isError:r.password,errorText:r.password,onChange:c,value:n.password||"",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(_.jsx)(A,{submitName:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",linkName:"\u0412\u043e\u0439\u0442\u0438",linkDestination:"/signin",submitDisabled:!s,errorMessage:j,children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"})]})]})},B=n(16),q=n(17),G=new(function(){function e(t){var n=t.baseUrl,a=t.headers;Object(B.a)(this,e),this._baseUrl=n,this._headers=a}return Object(q.a)(e,[{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject(e.status)}},{key:"getUserInfo",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:this.getHeaders()}).then((function(t){return e._handleResponse(t)}))}},{key:"patchUserProfile",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this.getHeaders(),body:JSON.stringify({name:e.name,email:e.email})}).then((function(e){return t._handleResponse(e)}))}},{key:"getMovies",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/movies"),{method:"GET",headers:this.getHeaders()}).then((function(t){return e._handleResponse(t)}))}},{key:"postNewMovie",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/movies"),{method:"POST",headers:this.getHeaders(),body:JSON.stringify(e)}).then((function(e){return t._handleResponse(e)}))}},{key:"deleteMovie",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/movies/").concat(e),{method:"DELETE",headers:this.getHeaders()}).then((function(e){return t._handleResponse(e)}))}},{key:"getHeaders",value:function(){var e=localStorage.getItem("jwt");return Object(h.a)(Object(h.a)({},this._headers),{},{Authorization:"Bearer ".concat(e)})}}]),e}())({baseUrl:j,headers:{Accept:"application/json","Content-Type":"application/json"}});n(57);var V=function(e){var t=Object(a.useContext)(u),n=P(),c=n.values,r=n.handleChange,s=n.errors,i=n.isValid,l=n.resetForm,j=Object(a.useState)(!0),m=Object(o.a)(j,2),b=m[0],h=m[1],d=Object(a.useState)(""),f=Object(o.a)(d,2),p=f[0],O=f[1],x=Object(a.useState)(""),v=Object(o.a)(x,2),N=v[0],k=v[1];return Object(a.useEffect)((function(){l({name:t.name,email:t.email})}),[t]),Object(a.useEffect)((function(){O("")}),[c]),Object(a.useEffect)((function(){var e=c.name===t.name&&c.email===t.email,n=(c.name!==t.name||c.email!==t.email)&&!i;h(e||n)}),[c,t,i]),Object(a.useEffect)((function(){var e=s.name?"\u0418\u043c\u044f: ".concat(s.name):"",t=s.email?"\u041f\u043e\u0447\u0442\u0430: ".concat(s.email):"";k("".concat(e," ").concat(t))}),[s]),Object(_.jsx)("section",{className:"profile",children:Object(_.jsxs)("form",{className:"profile__form profile__box gradual-change",onSubmit:function(e){e.preventDefault(),O("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435..."),G.patchUserProfile(c).then((function(e){O("\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430."),t.name=e.name,t.email=e.email,l({name:t.name,email:t.email}),setTimeout((function(){return O("")}),1e3)})).catch((function(e){switch(e){case 400:O("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u0438\u043b\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043f\u043e\u043b\u0435\u0439");break;case 409:O("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c ".concat(c.email," \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442."));break;default:O("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435. \u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e,"."))}}))},children:[Object(_.jsxs)("h2",{className:"profile__title profile__box",children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",t.name,"!"]}),Object(_.jsxs)("fieldset",{className:"profile__fields profile__box",children:[Object(_.jsx)("label",{htmlFor:"name",className:"profile__label profile__text",children:"\u0418\u043c\u044f"}),Object(_.jsx)("input",{type:"text",id:"name",name:"name",className:"profile__item profile__text ".concat(s.name?"profile__text_error":""),placeholder:"\u0418\u043c\u044f",pattern:"^[A-Za-z]([A-Za-z]| |-){1,28}[A-Za-z]$",onChange:r,value:c.name||"",required:!0}),Object(_.jsx)("label",{htmlFor:"email",className:"profile__label profile__text",children:"\u041f\u043e\u0447\u0442\u0430"}),Object(_.jsx)("input",{type:"email",id:"email",name:"email",className:"profile__item profile__text ".concat(s.email?"profile__text_error":""),placeholder:"\u041f\u043e\u0447\u0442\u0430",pattern:"^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$",onChange:r,value:c.email||"",required:!0})]}),Object(_.jsx)("p",{className:"profile__error profile__box profile__error_input",children:N}),Object(_.jsxs)("fieldset",{className:"profile__buttons profile__box",children:[Object(_.jsx)("p",{className:"profile__error profile__box",children:p}),Object(_.jsx)(g,{type:"submit",userClass:"profile__btn",disabled:b,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(_.jsx)(g,{userClass:"profile__btn profile__btn_red",onClick:e.onLogout,children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]})]})})},Z=function(e){return Object(_.jsxs)(c.a.Fragment,{children:[Object(_.jsx)(O,{children:Object(_.jsx)(N,{})}),Object(_.jsx)(V,{onLogout:e.onLogout})]})},$=n(6),W=n.n($),K=n(11),Q=(n(59),function(e){return Object(_.jsxs)("label",{className:"switch",children:[Object(_.jsx)("input",{type:"checkbox",className:"switch__input",checked:e.isChecked,onChange:e.onChange,disabled:e.isDisabled}),Object(_.jsx)("span",{className:"switch__slider"})]})}),X=Object(_.jsx)("p",{className:"list__no-result",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),Y=Object(_.jsx)("p",{className:"list__no-result",children:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"});n(60);var ee=function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),i=Object(o.a)(s,2),l=i[0],u=i[1];return Object(a.useEffect)((function(){u("")}),[c]),Object(_.jsxs)("div",{className:"search gradual-change",children:[Object(_.jsxs)("form",{name:"search-form",className:"search__form search__box",onSubmit:function(t){t.preventDefault(),c||e.savedFilms?e.onSubmit(c):u("\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e (\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435, \u0440\u0435\u0436\u0438\u0441\u0441\u0435\u0440, \u0441\u0442\u0440\u0430\u043d\u0430 \u0438\u043b\u0438 \u0433\u043e\u0434)")},children:[Object(_.jsxs)("fieldset",{className:"search__input-box search__box",children:[Object(_.jsx)("input",{type:"text",id:"search-input",name:"search-input",className:"search__input search__box",placeholder:"\u0424\u0438\u043b\u044c\u043c",value:c,onChange:function(e){r(e.target.value)}}),Object(_.jsx)(g,{type:"submit",userClass:"search__button"})]}),Object(_.jsxs)("fieldset",{className:"search__switch-box search__box",children:[Object(_.jsx)("div",{className:"search__line search__box"}),Object(_.jsx)(Q,{isChecked:e.isSwitchOn||!1,onChange:function(){e.onSwitchChange()},isDisabled:e.isSwitchDisabled}),Object(_.jsx)("p",{className:"search__switch-name search__box",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]})]}),Object(_.jsx)("p",{className:"search__input_error search__box",children:l})]})},te=(n(61),function(){return Object(_.jsx)("div",{className:"Preloader"})});n(62);var ne=function(e){var t=e.movie,n=e.children,a=e.onClick;return Object(_.jsxs)("li",{className:"card gradual-change",children:[Object(_.jsx)("div",{className:"card__wrapper",children:Object(_.jsx)("img",{className:"card__image",src:t.image,alt:t.nameRU,onClick:function(){a(t)}})}),Object(_.jsxs)("ul",{className:"card__info",children:[Object(_.jsx)("li",{className:"card__name",children:t.nameRU}),Object(_.jsx)("li",{children:n}),Object(_.jsx)("li",{className:"card__duration",children:function(e){var t=Math.floor(e/60),n=e-60*t;return(t>0?"".concat(t,"\u0447"):"")+(n>0?"".concat(n,"\u043c"):"")}(t.duration)})]})]})},ae=(n(63),function(e){return Object(_.jsxs)("label",{className:"round-btn",children:[Object(_.jsx)("input",{className:"round-btn__input",type:"checkbox",checked:e.isChecked||!1,onChange:function(){e.onChange(e.movieId)}}),Object(_.jsx)("span",{className:"round-btn__checkmark"})]})});n(64);function ce(e){return Object(_.jsx)(g,{userClass:"saved-movies__btn_delete",onClick:function(){e.onDelete(e.movie)}})}var re=function(e){var t,n=function(t){e.onSave(t)},a=function(t){e.onDelete(t)};return Object(_.jsx)("ul",{className:"list gradual-change",children:e.isLoading?Object(_.jsx)(te,{}):(t=e.moviesList,t.length>0?t.map((function(t){return Object(_.jsx)(ne,{movie:t,onClick:e.onClick,children:e.savedFilms?Object(_.jsx)(ce,{onDelete:a,movie:t}):Object(_.jsx)(ae,{isChecked:t.saved,movieId:t.movieId,onChange:n})},t.movieId)})):Object(_.jsx)("li",{className:"list__no-result-box",children:e.errorMessage}))})},se="https://api.nomoreparties.co",ie=new(function(){function e(t){var n=t.baseUrl,a=t.headers;Object(B.a)(this,e),this._baseUrl=n,this._headers=a}return Object(q.a)(e,[{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject(e.status)}},{key:"getAllMovies",value:function(){var e=Object(K.a)(W.a.mark((function e(){var t;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._baseUrl,"/beatfilm-movies"),{method:"GET",headers:this._headers});case 2:return t=e.sent,e.abrupt("return",this._handleResponse(t));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}())({baseUrl:se,headers:{Accept:"application/json","Content-Type":"application/json"}}),oe=function(){var e=Object(K.a)(W.a.mark((function e(){var t,n,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie.getAllMovies();case 3:return t=e.sent,n=t.map((function(e){return{movieId:e.id,country:e.country||"-",director:e.director||"-",duration:e.duration||0,year:e.year||"2021",description:e.description||"-",image:e.image?"".concat(se).concat(e.image.url):"https://fakeimg.pl/300/",trailer:e.trailerLink||"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",nameRU:e.nameRU||"",nameEN:e.nameEN||"",thumbnail:e.image?"".concat(se).concat(e.image.formats.thumbnail.url):"https://fakeimg.pl/300/"}})),e.abrupt("return",Promise.resolve(n));case 8:return e.prev=8,e.t0=e.catch(0),a=["\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.","\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d.","\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437"].map((function(e,t){return Object(_.jsx)("p",{className:"list__no-result",children:e},t)})),e.abrupt("return",Promise.reject(a));case 13:case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),le=function(e,t){return!!e&&e.toLowerCase().includes(t)},ue=function(){var e=Object(K.a)(W.a.mark((function e(t,n){var a,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.toLowerCase(),!((c=n.filter((function(e){var t=le(e.nameRU,a),n=le(e.nameEN,a),c=le(e.director,a),r=le(e.country,a),s=le(e.year,a);return t||n||c||r||s}))).length>0)){e.next=4;break}return e.abrupt("return",Promise.resolve(c));case 4:return e.abrupt("return",Promise.reject(X));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),je=function(e,t){return e.map((function(e){var n=e.movieId,a=e.country,c=e.director,r=e.duration,s=e.year,i=e.description,o=e.image,l=e.trailer,u=e.nameRU,j=e.nameEN,m=e.thumbnail,b=t.filter((function(e){return e.movieId===n})),h=0;return 1===b.length&&(h=b[0]._id),{movieId:n,country:a,director:c,duration:r,year:s,description:i,image:o,trailer:l,nameRU:u,nameEN:j,thumbnail:m,saved:h}}))};function me(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var be={1440:{total:12,add:4},1280:{total:12,add:3},768:{total:8,add:2},480:{total:5,add:2}};n(65);var he=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(!1),i=Object(o.a)(s,2),l=i[0],u=i[1],j=Object(a.useState)(!1),m=Object(o.a)(j,2),b=m[0],h=m[1],d=Object(a.useState)(!0),f=Object(o.a)(d,2),p=f[0],O=f[1],x=Object(a.useState)([]),v=Object(o.a)(x,2),N=v[0],k=v[1],w=Object(a.useState)([]),S=Object(o.a)(w,2),y=S[0],C=S[1],I=Object(a.useState)([]),E=Object(o.a)(I,2),M=E[0],L=E[1],T=Object(a.useState)(""),U=Object(o.a)(T,2),D=U[0],F=U[1],R=function(){var e=Object(a.useState)(me()),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){function e(){c(me())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}().width,A=Object(a.useState)({total:12,add:3}),J=Object(o.a)(A,2),P=J[0],H=J[1],z=Object(a.useState)(0),B=Object(o.a)(z,2),q=B[0],V=B[1];Object(a.useEffect)((function(){var e,t,n=localStorage.getItem("foundMovies");n&&(e=JSON.parse(n),C(e),O(0===e.length)),G.getMovies().then((function(n){k(n),t=je(e,n.slice()),C(t)})).catch((function(e){console.log("\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u043c \u0444\u0438\u043b\u044c\u043c\u0430\u043c: ".concat(e))}))}),[]),Object(a.useEffect)((function(){H(function(e){return be[e>1280?1440:e>1006?1280:e>646?768:480]}(R))}),[R]),Object(a.useEffect)((function(){y.length<=P.total?(V(y.length),u(!1)):(V(P.total),u(!0))}),[y,P]),Object(a.useEffect)((function(){L(y.slice(0,q))}),[q,y]),Object(a.useEffect)((function(){var e=localStorage.getItem("foundMovies");if(e){var t=JSON.parse(e);if(b){var n=t.filter((function(e){return e.duration<=40}));C(n),0===n.length&&F(X)}else C(t)}}),[b]);var Z=function(){var e=Object(K.a)(W.a.mark((function e(t){var n,a,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C([]),L([]),F(""),h(!1),O(!0),localStorage.getItem("foundMovies")&&localStorage.removeItem("foundMovies"),localStorage.getItem("searchString")&&localStorage.removeItem("searchString"),e.prev=7,r(!0),e.next=11,oe();case 11:return n=e.sent,e.next=14,ue(t.toLowerCase(),n);case 14:a=e.sent,c=je(a,N.slice()),C(c),localStorage.setItem("foundMovies",JSON.stringify(c)),localStorage.setItem("searchString",JSON.stringify(t)),O(!1),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(7),F(e.t0);case 25:return e.prev=25,r(!1),e.finish(25);case 28:case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(K.a)(W.a.mark((function e(t){var n,a,c,r,s,i,o,l,u,j,m,b,h,d,_,f,p,O,x,g,v,w,S,I,E,M,L,T,U,D,F;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,1===(n=y.filter((function(e){return e.movieId===t}))).length){e.next=4;break}throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438/\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0444\u0438\u043b\u044c\u043c\u0430");case 4:if(a=[],0!==n[0].saved){e.next=19;break}return delete n[0].saved,e.next=9,G.postNewMovie(n[0]);case 9:c=e.sent,r=c.movieId,s=c.country,i=c.director,o=c.duration,l=c.year,u=c.description,j=c.image,m=c.trailer,b=c.nameRU,h=c.nameEN,d=c.thumbnail,_=c._id,f={movieId:r,country:s,director:i,duration:o,year:l,description:u,image:j,trailer:m,nameRU:b,nameEN:h,thumbnail:d,saved:_},a=y.map((function(e){return e.movieId===r?f:e})),C(a),(p=N.slice()).push(c),k(p),e.next=28;break;case 19:return e.next=21,G.deleteMovie(n[0].saved);case 21:O=e.sent,x=O.movieId,g=O.country,v=O.director,w=O.duration,S=O.year,I=O.description,E=O.image,M=O.trailer,L=O.nameRU,T=O.nameEN,U=O.thumbnail,D={movieId:x,country:g,director:v,duration:w,year:S,description:I,image:E,trailer:M,nameRU:L,nameEN:T,thumbnail:U,saved:0},a=y.map((function(e){return e.movieId===x?D:e})),C(a),F=N.filter((function(e){return e.movieId!==x})),k(F);case 28:localStorage.getItem("foundMovies")&&localStorage.removeItem("foundMovies"),localStorage.setItem("foundMovies",JSON.stringify(a)),e.next=35;break;case 32:e.prev=32,e.t0=e.catch(0),console.log(e.t0);case 35:case"end":return e.stop()}}),e,null,[[0,32]])})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)("section",{className:"movies",children:[Object(_.jsx)(ee,{savedFilms:!1,onSubmit:function(e){Z(e)},onSwitchChange:function(){h(!b)},isSwitchOn:b,isSwitchDisabled:p}),Object(_.jsx)(re,{savedFilms:!1,isLoading:n,moviesList:M,errorMessage:D,onSave:$,onClick:function(e){window.open(e.trailer,"_blank")}}),l?Object(_.jsx)(g,{userClass:"movies__btn_action_more",onClick:function(){var e=q+P.add,t=y.length;e>=t&&(e=t,u(!1)),V(e)},children:"\u0415\u0449\u0451"}):Object(_.jsx)(c.a.Fragment,{})]})},de=function(){return Object(_.jsxs)(c.a.Fragment,{children:[Object(_.jsx)(O,{children:Object(_.jsx)(N,{})}),Object(_.jsx)(he,{}),Object(_.jsx)(T,{})]})};n(66);var _e=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(o.a)(r,2),i=s[0],l=s[1],u=Object(a.useState)([]),j=Object(o.a)(u,2),m=j[0],b=j[1],h=Object(a.useState)(!1),d=Object(o.a)(h,2),f=d[0],p=d[1],O=Object(a.useState)(!1),x=Object(o.a)(O,2),g=x[0],v=x[1],N=Object(a.useState)(!0),k=Object(o.a)(N,2),w=k[0],S=k[1],y="visibleMovies";Object(a.useEffect)((function(){return p(!0),G.getMovies().then((function(e){c(e),b(e),localStorage.setItem(y,JSON.stringify(e)),S(0===e.length)})).catch((function(e){l(Y)})).finally((function(){p(!1)})),function(){localStorage.removeItem(y)}}),[]),Object(a.useEffect)((function(){var e=[];if(localStorage.getItem(y)&&(e=JSON.parse(localStorage.getItem(y))),g){var t=e.filter((function(e){return e.duration<=40}));b(t),0===t.length&&l(X)}else b(e)}),[g]);var C=function(){var e=Object(K.a)(W.a.mark((function e(t){var a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],p(!0),S(!0),b([]),localStorage.getItem(y)&&localStorage.removeItem(y),e.prev=5,e.next=8,ue(t.toLowerCase(),n);case 8:a=e.sent,b(a),S(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),l(e.t0);case 16:return e.prev=16,p(!1),localStorage.setItem(y,JSON.stringify(a)),v(!1),e.finish(16);case 21:case 22:case"end":return e.stop()}}),e,null,[[5,13,16,21]])})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)("section",{className:"saved-movies gradual-change",children:[Object(_.jsx)(ee,{savedFilms:!0,onSubmit:function(e){0===(e||"").length?(v(!1),b(n),localStorage.setItem(y,JSON.stringify(n))):C(e)},onSwitchChange:function(){v(!g)},isSwitchOn:g,isSwitchDisabled:w}),Object(_.jsx)(re,{savedFilms:!0,isLoading:f,moviesList:m,errorMessage:i,onClick:function(e){window.open(e.trailer,"_blank")},onDelete:function(e){G.deleteMovie(e._id).then((function(e){var t=n.filter((function(t){return t.movieId!==e.movieId}));c(t);var a=m.filter((function(t){return t.movieId!==e.movieId}));b(a),localStorage.setItem(JSON.stringify(a)),0===a.length&&l(X),S(0===t.length)})).catch((function(e){console.log("".concat("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438"," ").concat(e,"."))}))}})]})},fe=function(){return Object(_.jsxs)(c.a.Fragment,{children:[Object(_.jsx)(O,{children:Object(_.jsx)(N,{})}),Object(_.jsx)(_e,{}),Object(_.jsx)(T,{})]})};n(67);var pe=function(e){var t=e.history;return Object(_.jsxs)("section",{className:"not-found gradual-change",children:[Object(_.jsx)("h1",{className:"not-found__title not-found__box gradual-change",children:"404"}),Object(_.jsx)("p",{className:"not-found__subtitle not-found__box gradual-change",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(_.jsx)(g,{userClass:"not-found__button",onClick:function(){t.goBack()},children:"\u041d\u0430\u0437\u0430\u0434"})]})};n(68);var Oe=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)({email:"",name:""}),s=Object(o.a)(r,2),i=s[0],h=s[1],d=Object(a.useState)(""),p=Object(o.a)(d,2),O=p[0],x=p[1],g=Object(l.g)(),v=function(){if(localStorage.getItem("jwt")){var e=localStorage.getItem("jwt");(t=e,fetch("".concat(j,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return m(e)}))).then((function(e){e&&(h({name:e.name,email:e.email}),c(!0),g.push("/movies"))})).catch((function(e){console.log("\u041f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0435\u043d."),c(!1)}))}var t};Object(a.useEffect)((function(){v()}),[n]);var N=function(){x("")};return Object(_.jsx)(u.Provider,{value:i,children:Object(_.jsx)("div",{className:"App",children:Object(_.jsxs)(l.d,{children:[Object(_.jsx)(f,{path:"/movies",loggedIn:n,component:de}),Object(_.jsx)(f,{path:"/saved-movies",loggedIn:n,component:fe}),Object(_.jsx)(f,{path:"/profile",loggedIn:n,component:Z,onLogout:function(){localStorage.removeItem("foundMovies"),localStorage.removeItem("jwt"),c(!1),h({name:"",email:""}),g.push("/")}}),Object(_.jsx)(l.b,{path:"/signin",children:Object(_.jsx)(H,{onLogin:function(e,t,n){var a="";b(e,t).then((function(e){e.token&&(localStorage.setItem("jwt",e.token),n(),g.push("/movies"),c(!0))})).catch((function(e){switch(e){case 400:a="\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u0438\u043b\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043f\u043e\u043b\u0435\u0439";break;case 401:a="\u041d\u0435\u0432\u0435\u0440\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u043d\u044b e-mail \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c";break;default:a="\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."}})).finally((function(){x(a)}))},errorMessage:O,resetMessage:N,history:g})}),Object(_.jsx)(l.b,{path:"/signup",children:Object(_.jsx)(z,{onRegister:function(e,t,n,a){var r,s,i,o="";(r=e,s=t,i=n,fetch("".concat(j,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:r,password:s,name:i})}).then((function(e){return m(e)}))).then((function(n){a(),b(e,t).then((function(e){e.token&&(localStorage.setItem("jwt",e.token),g.push("/movies"),c(!0))})).catch((function(e){console.log("\u041f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0435\u043d."),c(!1)}))})).catch((function(t){switch(t){case 400:o="\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u0438\u043b\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043f\u043e\u043b\u0435\u0439";break;case 409:o="\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c ".concat(e," \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442");break;default:o="\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."}})).finally((function(){x(o)}))},errorMessage:O,resetMessage:N,history:g})}),Object(_.jsx)(l.b,{exact:!0,path:"/",children:Object(_.jsx)(U,{})}),Object(_.jsx)(l.b,{path:"*",children:Object(_.jsx)(pe,{history:g})})]})})})};n(69);s.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(i.a,{basename:"/movies-explorer-frontend",children:Object(_.jsx)(Oe,{})})}),document.getElementById("root"))}]),[[70,1,2]]]);
//# sourceMappingURL=main.9de6f846.chunk.js.map